---
import Layout from "../layouts/Layout.astro";

const baseUrl = import.meta.env.BASE_URL;
const base = baseUrl === "/" ? "" : baseUrl;

// ============================================================
// CURRENT SPONSORS - Edit this array to add/update sponsors
// Put sponsor logos in /public/img/sponsors/
// tier: "platinum" | "gold" | "silver" | "patron"
// ============================================================
interface Sponsor {
  name: string;
  tier: "platinum" | "gold" | "silver" | "patron";
  logo?: string;
  url?: string;
  tagline?: string;
}

const currentSponsors: Sponsor[] = [
  // {
  //   name: "Acme Corp",
  //   tier: "platinum",
  //   logo: "/img/sponsors/acme-corp.png",
  //   url: "https://acmecorp.com",
  //   tagline: "Enterprise Apple Management",
  // },
];

const tierOrder = ["platinum", "gold", "silver", "patron"] as const;
const tierLabels: Record<string, string> = {
  platinum: "Platinum Sponsors",
  gold: "Gold Sponsors",
  silver: "Silver Sponsors",
  patron: "Patron Sponsors",
};
const tierPlaceholderCounts: Record<string, number> = {
  platinum: 3,
  gold: 5,
  silver: 4,
  patron: 4,
};

const sponsorshipTiers = [
  {
    name: "Patron",
    class: "patron",
    available: null,
    isIncremental: true,
    benefits: [
      { label: "Inclusive tickets", value: "1" },
      { label: "Logo on our website", value: true },
      { label: "Branding on stage", value: true },
    ]
  },
  {
    name: "Silver",
    class: "silver",
    available: null,
    isIncremental: true,
    benefits: [
      { label: "Inclusive tickets", value: "2" },
      { label: "Discounted tickets", value: "Max. 2" },
      { label: "Social media promotion", value: true },
      { label: "Newsletter inclusion", value: true },
      { label: "Logo in YouTube videos", value: true },
    ]
  },
  {
    name: "Gold",
    class: "gold",
    soldOut: true,
    isIncremental: true,
    benefits: [
      { label: "Inclusive tickets", value: "3" },
      { label: "Discounted tickets", value: "Max. 3" },
      { label: "Exhibition space", value: "Standard" },
    ]
  },
  {
    name: "Platinum",
    class: "platinum featured",
    soldOut: true,
    isIncremental: true,
    benefits: [
      { label: "Inclusive tickets", value: "4" },
      { label: "Discounted tickets", value: "Max. 4" },
      { label: "Exhibition space", value: "Premium" },
      { label: "Logo on event badge", value: true },
      { label: "Speaker slot (25 min)", value: true },
      { label: "Speaker bio on website", value: true },
    ]
  }
];
---

<Layout
  title="Sponsors | Mac Admins Europe 2026"
  description="Support Mac Admins Europe 2026 sponsors. Explore Platinum, Gold, Silver, and Patron sponsorship opportunities for the premier European Apple admin conference."
>
  <section class="page-hero">
    <div class="container">
      <span class="section-label">Our Partners</span>
      <h1>Sponsors</h1>
      <p>Made possible by:</p>
    </div>
  </section>

  <section class="sponsors-content">
    <div class="container">

      <!-- Current Sponsors -->
      <div class="current-sponsors">
        <div class="text-center">
          <h2 class="section-title">Our 2026 Sponsors</h2>
          <p class="section-subtitle">These companies helped make Mac Admins Europe 2026 possible.</p>        </div>

        {tierOrder.map((tier) => {
          const tierSponsors = currentSponsors.filter((s) => s.tier === tier);
          const placeholderCount = Math.max(0, tierPlaceholderCounts[tier] - tierSponsors.length);
          const hasContent = tierSponsors.length > 0 || true;
          return hasContent && (
            <div class={`sponsor-tier-section tier-${tier}`}>
              <h3 class="sponsor-tier-heading">{tierLabels[tier]}</h3>
              <div class={`sponsor-cards-grid tier-grid-${tier}`}>
                {tierSponsors.map((sponsor) => (
                  <a
                    href={sponsor.url ?? "#"}
                    target={sponsor.url ? "_blank" : undefined}
                    rel={sponsor.url ? "noopener noreferrer" : undefined}
                    class={`sponsor-card tier-${tier}`}
                  >
                    <div class="sponsor-card-logo">
                      {sponsor.logo
                        ? <img src={sponsor.logo} alt={sponsor.name} />
                        : <span class="sponsor-card-name-only">{sponsor.name}</span>
                      }
                    </div>
                    <div class="sponsor-card-info">
                      <span class="sponsor-card-name">{sponsor.name}</span>
                      {sponsor.tagline && <span class="sponsor-card-tagline">{sponsor.tagline}</span>}
                    </div>
                  </a>
                ))}
                {Array.from({ length: placeholderCount }).map(() => (
                  <div class={`sponsor-card tier-${tier} sponsor-card-placeholder`}>
                    <div class="sponsor-card-logo">
                      <svg viewBox="0 0 120 60" xmlns="http://www.w3.org/2000/svg">
                        <rect width="120" height="60" rx="6" fill="none"/>
                        <text x="60" y="36" text-anchor="middle" font-size="11" fill="currentColor" font-family="sans-serif">Your Logo Here</text>
                      </svg>
                    </div>
                    <div class="sponsor-card-info">
                      <span class="sponsor-card-name">To Be Announced</span>
                    </div>
                  </div>
                ))}
              </div>
            </div>
          );
        })}

        <div class="text-center mt-4">
          <a href={`${base}/sponsor-contact`} class="btn btn-primary">Become a Sponsor</a>
        </div>
      </div>

      <!-- Sponsorship Packages -->
      <div class="sponsor-packages-section">
        <div class="text-center mb-2">
          <span class="section-label">Opportunities</span>
          <h2 class="packages-title">How You Can Sponsor</h2>
          <p class="packages-subtitle">
            Choose the package that best fits your goals
          </p>
        </div>

        <div class="packages-grid-new">
          {
            sponsorshipTiers.map((tier) => (
              <div class={`package-card ${tier.class}${tier.soldOut ? ' sold-out' : ''}`}>
                {tier.soldOut && <div class="sold-out-overlay"><span>Sold Out</span></div>}
                <div class="package-header">
                  <h3>{tier.name}</h3>
                  <div class="package-availability-wrapper">
                    {tier.available ? (
                      <span class="availability">({tier.available} available)</span>
                    ) : (
                      <span class="availability spacer">&nbsp;</span>
                    )}
                  </div>
                </div>
                <ul class="package-features mt-auto">
                  {tier.isIncremental && (
                    <li class="incremental-label">
                      {tier.name === "Patron" ? "Includes:" : `Includes ${sponsorshipTiers[sponsorshipTiers.indexOf(tier) - 1].name} plus:`}
                    </li>
                  )}
                  {tier.benefits
                    .filter((b) => b.value !== false)
                    .map((benefit) => (
                      <li>
                        {benefit.label}
                        {typeof benefit.value === "string" && ` (${benefit.value})`}
                      </li>
                    ))}
                </ul>
                <div class="package-cta">
                  {tier.soldOut ? (
                    <span class="btn btn-primary btn-sm w-full btn-disabled">Sold Out</span>
                  ) : (
                    <a
                      href={`${base}/sponsor-contact`}
                      class="btn btn-primary btn-sm w-full"
                    >
                      Contact Us
                    </a>
                  )}
                </div>
              </div>
            ))
          }
        </div>
      </div>

      <!-- Why Sponsor Section -->
      <div class="sponsor-benefits-section">
        <div class="text-center mb-2">
          <span class="section-label">Partner with Us</span>
          <h2>Why Sponsor Mac Admins Europe?</h2>
        </div>
        <p class="sponsor-intro">
          Mac Admins Europe brings together IT professionals from across the
          continent who manage Apple devices in enterprise environments.
          Sponsoring our event puts your brand in front of decision-makers
          actively looking for solutions.
        </p>

        <div class="sponsor-benefits">
          <div class="benefit">
            <div class="benefit-icon">üë•</div>
            <h3>Connecting Communities</h3>
            <p>Connecting local communities across Europe (4000+ members)</p>
            <!-- <h3>Community Impact</h3> -->
            <!-- <p>Connect with 4,000+ Mac Admin community members</p> -->
          </div>
          <div class="benefit">
            <div class="benefit-icon">üéØ</div>
            <h3>Targeted Audience</h3>
            <p>IT professionals with purchasing influence</p>
          </div>
          <div class="benefit">
            <div class="benefit-icon">ü§ù</div>
            <h3>Face-to-Face</h3>
            <p>In-person networking and relationship building</p>
          </div>
          <div class="benefit">
            <div class="benefit-icon">üì£</div>
            <h3>Brand Visibility</h3>
            <p>Logo placement, booth space, and speaking opportunities</p>
          </div>
        </div>
      </div>
    </div>
  </section>
</Layout>
